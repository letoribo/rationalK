{"version":3,"sources":["rationalk:cse/lib/methods.js","rationalk:cse/lib/collections.js","rationalk:cse/lib/client/webInSearchResults.html"],"names":[],"mappings":";;;;;;;;AAAA,W;;AAEA,6B;AACA,iC;AACA,E;;AAEA,6C;AACA,iC;AACA,gB;AACA,+B;AACA,U;AACA,Q;AACA,kD;AACA,gD;AACA,kB;AACA,O;AACA,E;;AAEA,+B;AACA,sF;AACA,E;;;;;;;;;;;;;;;;;;;ACpBA,4D;;AAEA,yB;AACA,iD;AACA,gD;AACA,kD;AACA,G;;;AAGA,mC;AACA,0C;;;;;;;;;;;;;;;;;;;;ACTA,2C;AACA,0F;AACA,kB;AACA,mB;AACA,kB;AACA,yB;AACA,uB;AACA,2B;AACA,iB;AACA,qB;AACA,sD;AACA,K;AACA,mC;AACA,uB;AACA,yB;AACA,sB;AACA,qD;AACA,M;AACA,oB;AACA,4C;AACA,oD;AACA,gE;AACA,yE;AACA,2H;AACA,I;;AAEA,mD;AACA,0G;AACA,kB;AACA,mB;AACA,iC;AACA,mD;AACA,kD;AACA,qB;AACA,yB;AACA,oE;AACA,M;AACA,qC;AACA,8C;AACA,+D;AACA,yB;AACA,I","file":"/packages/rationalk_cse.js","sourcesContent":["RKCSE = {};\n\nRKCSE.findAll = function () {\n  return WebSearchResults.find();\n};\n\nRKCSE.findFullText = function (searchQuery) {\n  return WebSearchResults.find( {\n        $text: {\n          $search: searchQuery,\n        },\n    }, {\n        fields: { score: { $meta: 'textScore' } },\n        sort: { score: { $meta: 'textScore' } },\n        limit: 30,\n    });\n};\n\nRKCSE.findDummy = function () {\n  return WebSearchResults.find({$text: { $search: \"somethingthatyouwillneverfind\" }});\n};\n","WebSearchResults = new Mongo.Collection('websearchresults');\n\nWebSearchResults.allow( {\n\t\tinsert: function (userId) {return !! userId; },\n\t\tupdate: function (userId) {return !!userId; },\n    remove: function (userId) {return !!userId; },\n});\n\n\n//expose it to the other packages :\nRKCSE.WebSearchResults = WebSearchResults;\n","\nTemplate.__checkName(\"webInSearchResults\");\nTemplate[\"webInSearchResults\"] = new Template(\"Template.webInSearchResults\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"col-md-2\"\n  }, \"\\n      \", HTML.IMG({\n    width: \"100\",\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"thumb\"));\n    }\n  }), \"\\n    \"), \"\\n\t\t\", HTML.DIV({\n    \"class\": \"col-md-8\"\n  }, \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"link\"));\n    },\n    target: \"_blank\"\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n\t\t\t\", HTML.P(Blaze.View(\"lookup:snippet\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"snippet\")));\n  })), \"\\n\t\t\"), HTML.Raw('\\n\t\t<div class=\"col-md-2\">\\n\t\t\t<span class=\"label label-success\"> Web</span><br>\\n\t\t</div>\\n\t'));\n}));\n\nTemplate.__checkName(\"webInSearchResultsCheckbox\");\nTemplate[\"webInSearchResultsCheckbox\"] = new Template(\"Template.webInSearchResultsCheckbox\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"includeWebInResultsDiv\",\n    \"class\": \"checkbox includeWebInResultsCheckbox\"\n  }, \"\\n    \", HTML.LABEL(\"\\n      \", HTML.INPUT({\n    type: \"checkbox\",\n    checked: function() {\n      return Spacebars.mustache(view.lookup(\"includeWebInResults\"));\n    },\n    id: \"includeWebInResultsCheckbox\"\n  }), \" \", Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"Include Web\");\n  }), \"\\n    \"), \"\\n  \");\n}));\n"]}