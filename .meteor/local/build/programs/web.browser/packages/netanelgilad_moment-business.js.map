)]}'
{"version":3,"sources":["netanelgilad:moment-business/moment-business.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,G;AACA,uB;AACA,4B;AACA,6B;AACA,G;;AAEA,2C;AACA,wB;AACA,yB;AACA,qC;AACA,6B;;AAEA,wE;AACA,8E;AACA,wD;;AAEA,wC;AACA,uB;AACA,qB;AACA,4B;AACA,qB;AACA,M;AACA,sB;;;AAGA,qB;AACA,iB;;AAEA,+C;AACA,E;;AAEA,yC;AACA,0D;AACA,2B;AACA,mB;AACA,kB;AACA,sC;AACA,kB;AACA,G;AACA,W;AACA,E","file":"/packages/netanelgilad_moment-business.js","sourcesContent":["/**\n * momentjs-business.js\n * businessDiff (mStartDate)\n * businessAdd (numberOfDays)\n */\n\nmoment.fn.businessDiff = function (start) {\n  start = moment(start);\n  var end = this.clone();\n  var start_offset = start.day() - 7;\n  var end_offset = end.day();\n\n  var end_sunday = end.clone().subtract(end_offset, 'd').startOf('day');\n  var start_sunday = start.clone().subtract(start_offset, 'd').startOf('day');\n  var weeks = end_sunday.diff(start_sunday, 'days') / 7;\n\n  start_offset = Math.abs(start_offset);\n  if(start_offset == 7)\n    start_offset = 5;\n  else if(start_offset == 1)\n    start_offset = 0;\n  else\n    start_offset -= 2;\n\n\n  if(end_offset == 6)\n    end_offset--;\n\n  return weeks * 5 + start_offset + end_offset;\n};\n\nmoment.fn.businessAdd = function (days) {\n  var d = this.clone().add('d', Math.floor(days / 5) * 7);\n  var remaining = days % 5;\n  while(remaining){\n    d.add('d', 1);\n    if(d.day() !== 0 && d.day() !== 6)\n      remaining--;\n  }\n  return d;\n};\n"]}